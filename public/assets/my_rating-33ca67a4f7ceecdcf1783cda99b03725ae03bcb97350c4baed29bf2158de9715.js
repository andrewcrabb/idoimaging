function doStarRating(){program_data=document.getElementById("program_data"),program_data&&(dataset=program_data.dataset,user=dataset.userid,program=dataset.programid,old_rating=dataset.rating,console.log("doStarRating: user = "+user+", old_rating = "+old_rating),$("#my-rating").starRating({initialRating:old_rating,starSize:20,callback:function(a){$("#my-rating").starRating("setReadOnly",!1),$.ajax({type:"PUT",url:"/programs/"+program+"/rating",data:{rating:a,user:user}})}}))}$(document).on("turbolinks:load",function(){console.log("-------- my_rating::ready() -----------"),doStarRating()});